"use strict";exports.id=877,exports.ids=[877],exports.modules={5877:(e,o,a)=>{a.d(o,{YP:()=>_,pu:()=>d});let r="https://storage.yandexcloud.net/screen-shared";async function t(e){try{let o=await fetch(e);if(404===o.status)return null;if(!o.ok)throw Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(o){return console.error(`Error fetching ${e}:`,o),null}}async function m(e,o){let a=`${e}/?list-type=2&prefix=${encodeURIComponent(o)}`;try{console.log(`üóÇÔ∏è Trying S3 ListObjects: ${a}`);let e=await fetch(a,{method:"GET",headers:{Accept:"application/xml"}});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let o=await e.text(),r=new DOMParser().parseFromString(o,"text/xml"),t=r.getElementsByTagName("Error")[0];if(t){let e=t.getElementsByTagName("Code")[0]?.textContent;throw Error(`S3 Error: ${e}`)}let m=r.getElementsByTagName("Contents"),k=[];for(let e=0;e<m.length;e++){let o=m[e].getElementsByTagName("Key")[0];if(o){let e=o.textContent;e&&e.endsWith(".json")&&k.push(e)}}return console.log(`‚úÖ S3 API returned ${k.length} files`),k}catch(e){return console.log(`‚ùå S3 API failed: ${e}`),null}}async function k(){try{let e=await fetch("/api/sample-data");if(e.ok){let o=await e.json();return Array.isArray(o)?o:[o]}throw Error("Sample data not available")}catch(e){return console.error("Error loading sample data:",e),_()}}async function d(){try{let e=await m(r,"merged-matches/");if(!e||0===e.length)return console.log("No S3 files found, falling back to sample data"),await k();console.log(`Found ${e.length} files, loading...`);let o=[];for(let a=0;a<e.length;a+=20){let m=e.slice(a,a+20).map(async e=>await t(`${r}/${e}`)),k=(await Promise.all(m)).filter(e=>e&&e.match_basic&&e.events);o.push(...k),console.log(`Loaded batch ${Math.floor(a/20)+1}/${Math.ceil(e.length/20)}: ${k.length} matches`)}return console.log(`Loaded ${o.length} total matches from S3`),o}catch(e){return console.error("Error loading from S3:",e),console.log("Fallback to sample data"),await k()}}function _(){let e=new Date,o=e.toISOString().split("T")[0],a=new Date(e);a.setDate(e.getDate()+1);let r=a.toISOString().split("T")[0];return[{match_id:"demo_match_1",mapping_info:{confidence:"high",match_reason:"demo_data",merged_at:new Date().toISOString()},match_basic:{date:o,time:"15:00",league:"Premier League",home_team:{fbref_id:"demo1",fbref_name:"Arsenal",odds_name:"–ê—Ä—Å–µ–Ω–∞–ª"},away_team:{fbref_id:"demo2",fbref_name:"Chelsea",odds_name:"–ß–µ–ª—Å–∏"}},events:{"1x2":{P1:{ml:2.1,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.25,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.25}},X:{ml:3.4,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.6,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.6}},P2:{ml:3.2,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.4}}},totals:{"0.5":{over:{ml:1.08,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.12,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.12}},under:{ml:8.5,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:9,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:9}}},"1.5":{over:{ml:1.25,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.3,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.3}},under:{ml:3.8,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:4}}},"2.5":{over:{ml:1.75,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.85,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.85}},under:{ml:2.1,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.2,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.2}}},"3.5":{over:{ml:3.6,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.8,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.8}},under:{ml:1.35,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.4}}}}}},{match_id:"demo_match_2",mapping_info:{confidence:"high",match_reason:"demo_data",merged_at:new Date().toISOString()},match_basic:{date:r,time:"17:30",league:"La Liga",home_team:{fbref_id:"demo3",fbref_name:"Real Madrid",odds_name:"–†–µ–∞–ª –ú–∞–¥—Ä–∏–¥"},away_team:{fbref_id:"demo4",fbref_name:"Barcelona",odds_name:"–ë–∞—Ä—Å–µ–ª–æ–Ω–∞"}},events:{"1x2":{P1:{ml:1.9,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2}},X:{ml:3.8,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4}},P2:{ml:3.5,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7}}},totals:{"0.5":{over:{ml:1.05,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.08,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.08}},under:{ml:12,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:13,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:13}}},"1.5":{over:{ml:1.3,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.35,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.35}},under:{ml:3.5,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7}}},"2.5":{over:{ml:1.9,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2}},under:{ml:1.95,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2.05,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2.05}}},"3.5":{over:{ml:4.2,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4.4,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4.4}},under:{ml:1.28,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.32,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.32}}}}}}]}}};
"use strict";exports.id=877,exports.ids=[877],exports.modules={5877:(e,o,a)=>{a.d(o,{YP:()=>l,pu:()=>d});let t="/api/s3-proxy";async function r(e){try{let o;o=`${t}?path=${encodeURIComponent(e)}`;let a=await fetch(o);if(404===a.status)return null;if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(o){return console.error(`Error fetching ${e}:`,o),null}}async function m(e,o){try{let e;e=`${t}?action=list&path=${encodeURIComponent(o)}`,console.log(`üóÇÔ∏è Using proxy for S3 ListObjects: ${o}`);let a=await fetch(e,{method:"GET",headers:{Accept:"application/xml"}});if(!a.ok)throw Error(`HTTP ${a.status}: ${a.statusText}`);let r=await a.text(),m=new DOMParser().parseFromString(r,"text/xml"),k=m.getElementsByTagName("Error")[0];if(k){let e=k.getElementsByTagName("Code")[0]?.textContent;throw Error(`S3 Error: ${e}`)}let d=m.getElementsByTagName("Contents"),l=[];for(let e=0;e<d.length;e++){let o=d[e].getElementsByTagName("Key")[0];if(o){let e=o.textContent;e&&e.endsWith(".json")&&l.push(e)}}return console.log(`‚úÖ S3 API returned ${l.length} files`),l}catch(e){return console.log(`‚ùå S3 API failed: ${e}`),null}}async function k(){try{let e=await fetch("/api/sample-data");if(e.ok){let o=await e.json();return Array.isArray(o)?o:[o]}throw Error("Sample data not available")}catch(e){return console.error("Error loading sample data:",e),l()}}async function d(){try{let e=function(){let e=new Date,o=[];for(let a=0;a<=7;a++){let t=new Date(e);t.setDate(e.getDate()+a);let r=t.toISOString().split("T")[0];o.push(`merged-matches/${r}`)}return o}();console.log(`üóìÔ∏è Searching for matches in date folders: ${e.map(e=>e.split("/").pop()).join(", ")}`);let o=[];for(let a of e){let e=await m("https://storage.yandexcloud.net/screen-shared",a+"/");e&&e.length>0&&(console.log(`üìÅ Found ${e.length} files in ${a.split("/").pop()}`),o.push(...e))}if(0===o.length)return console.log("No S3 files found in date range, falling back to sample data"),await k();console.log(`Found ${o.length} total files, loading...`);let a=[];for(let e=0;e<o.length;e+=20){let t=o.slice(e,e+20).map(async e=>await r(e)),m=(await Promise.all(t)).filter(e=>null!==e&&!!e.match_basic&&!!e.events);a.push(...m),console.log(`Loaded batch ${Math.floor(e/20)+1}/${Math.ceil(o.length/20)}: ${m.length} matches`)}return console.log(`Loaded ${a.length} total matches from S3`),a}catch(e){return console.error("Error loading from S3:",e),console.log("Fallback to sample data"),await k()}}function l(){let e=new Date,o=e.toISOString().split("T")[0],a=new Date(e);a.setDate(e.getDate()+1);let t=a.toISOString().split("T")[0];return[{match_id:"demo_match_1",mapping_info:{confidence:"high",match_reason:"demo_data",merged_at:new Date().toISOString()},match_basic:{date:o,time:"15:00",league:{fbref_name:"Premier League",api_name:"Premier League",api_id:39,country:"England",logo:"https://media.api-sports.io/football/leagues/39.png",flag:"https://media.api-sports.io/flags/gb.svg"},venue:{id:1,name:"Emirates Stadium",city:"London"},home_team:{fbref_id:"demo1",fbref_name:"Arsenal",api_name:"Arsenal",api_id:42,logo:"https://media.api-sports.io/football/teams/42.png"},away_team:{fbref_id:"demo2",fbref_name:"Chelsea",api_name:"Chelsea",api_id:49,logo:"https://media.api-sports.io/football/teams/49.png"}},events:{"1x2":{P1:{ml:2.1,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.25,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.25}},X:{ml:3.4,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.6,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.6}},P2:{ml:3.2,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.4}}},totals:{"0.5":{over:{ml:1.08,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.12,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.12}},under:{ml:8.5,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:9,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:9}}},"1.5":{over:{ml:1.25,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.3,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.3}},under:{ml:3.8,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:4}}},"2.5":{over:{ml:1.75,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.85,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.85}},under:{ml:2.1,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.2,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:2.2}}},"3.5":{over:{ml:3.6,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.8,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:3.8}},under:{ml:1.35,bookmaker_odds:[{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.4,is_better:!0}],better_odds:{bookmaker_id:4,bookmaker_name:"–§–æ–Ω–±–µ—Ç",value:1.4}}}}}},{match_id:"demo_match_2",mapping_info:{confidence:"high",match_reason:"demo_data",merged_at:new Date().toISOString()},match_basic:{date:t,time:"17:30",league:{fbref_name:"La Liga",api_name:"La Liga",api_id:140,country:"Spain",logo:"https://media.api-sports.io/football/leagues/140.png",flag:"https://media.api-sports.io/flags/es.svg"},venue:{id:2,name:"Santiago Bernab\xe9u",city:"Madrid"},home_team:{fbref_id:"demo3",fbref_name:"Real Madrid",api_name:"Real Madrid",api_id:541,logo:"https://media.api-sports.io/football/teams/541.png"},away_team:{fbref_id:"demo4",fbref_name:"Barcelona",api_name:"Barcelona",api_id:529,logo:"https://media.api-sports.io/football/teams/529.png"}},events:{"1x2":{P1:{ml:1.9,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2}},X:{ml:3.8,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4}},P2:{ml:3.5,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7}}},totals:{"0.5":{over:{ml:1.05,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.08,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.08}},under:{ml:12,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:13,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:13}}},"1.5":{over:{ml:1.3,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.35,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.35}},under:{ml:3.5,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:3.7}}},"2.5":{over:{ml:1.9,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2}},under:{ml:1.95,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2.05,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:2.05}}},"3.5":{over:{ml:4.2,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4.4,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:4.4}},under:{ml:1.28,bookmaker_odds:[{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.32,is_better:!0}],better_odds:{bookmaker_id:2,bookmaker_name:"–í–∏–Ω–ª–∞–π–Ω",value:1.32}}}}}}]}}};